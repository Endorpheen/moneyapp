
> frontend@0.1.0 test /home/end0/CODE/moneyapp/frontend
> react-scripts test --env=jsdom "Dashboard.test.js" "--detectOpenHandles"

  console.error
    Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      51 |
      52 |   test('renders Dashboard component and loads data', async () => {
    > 53 |     render(
         |           ^
      54 |       <BrowserRouter>
      55 |         <Dashboard />
      56 |       </BrowserRouter>

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:26)
      at render (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/components/Dashboard.test.js:53:11)
      at TestScheduler.scheduleTests (node_modules/react-scripts/node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/react-scripts/node_modules/@jest/core/build/runJest.js:404:19)

  console.error
    Warning: XAxis: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.
        at XAxis (/home/end0/CODE/moneyapp/frontend/node_modules/recharts/lib/cartesian/XAxis.js:19:22)
        at svg
        at Surface (/home/end0/CODE/moneyapp/frontend/node_modules/recharts/lib/container/Surface.js:19:24)
        at div
        at ChartLayoutContextProvider (/home/end0/CODE/moneyapp/frontend/node_modules/recharts/lib/context/chartLayoutContext.js:34:28)
        at BarChart (/home/end0/CODE/moneyapp/frontend/node_modules/recharts/lib/chart/generateCategoricalChart.js:861:7)
        at div
        at div
        at div
        at Dashboard (/home/end0/CODE/moneyapp/frontend/src/components/Dashboard.js:19:35)
        at Router (/home/end0/CODE/moneyapp/frontend/node_modules/react-router/lib/components.tsx:413:13)
        at BrowserRouter (/home/end0/CODE/moneyapp/frontend/node_modules/react-router-dom/index.tsx:784:3)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateFunctionComponentInDev (node_modules/react-dom/cjs/react-dom.development.js:20230:9)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20189:7)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at workLoop (node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (node_modules/react-scripts/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

  console.error
    Warning: YAxis: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.
        at YAxis (/home/end0/CODE/moneyapp/frontend/node_modules/recharts/lib/cartesian/YAxis.js:17:22)
        at svg
        at Surface (/home/end0/CODE/moneyapp/frontend/node_modules/recharts/lib/container/Surface.js:19:24)
        at div
        at ChartLayoutContextProvider (/home/end0/CODE/moneyapp/frontend/node_modules/recharts/lib/context/chartLayoutContext.js:34:28)
        at BarChart (/home/end0/CODE/moneyapp/frontend/node_modules/recharts/lib/chart/generateCategoricalChart.js:861:7)
        at div
        at div
        at div
        at Dashboard (/home/end0/CODE/moneyapp/frontend/src/components/Dashboard.js:19:35)
        at Router (/home/end0/CODE/moneyapp/frontend/node_modules/react-router/lib/components.tsx:413:13)
        at BrowserRouter (/home/end0/CODE/moneyapp/frontend/node_modules/react-router-dom/index.tsx:784:3)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateFunctionComponentInDev (node_modules/react-dom/cjs/react-dom.development.js:20230:9)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20189:7)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at workLoop (node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (node_modules/react-scripts/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

  console.error
    Warning: Unsupported style property @media (max-width: 768px). Did you mean @media (maxWidth: 768px)?
        at div
        at div
        at Dashboard (/home/end0/CODE/moneyapp/frontend/src/components/Dashboard.js:19:35)
        at Router (/home/end0/CODE/moneyapp/frontend/node_modules/react-router/lib/components.tsx:413:13)
        at BrowserRouter (/home/end0/CODE/moneyapp/frontend/node_modules/react-router-dom/index.tsx:784:3)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnHyphenatedStyleName (node_modules/react-dom/cjs/react-dom.development.js:2695:5)
      at warnValidStyle (node_modules/react-dom/cjs/react-dom.development.js:2743:7)
      at setValueForStyles (node_modules/react-dom/cjs/react-dom.development.js:2816:9)
      at setInitialDOMProperties (node_modules/react-dom/cjs/react-dom.development.js:9688:7)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom.development.js:9921:3)
      at finalizeInitialChildren (node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22232:17)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26632:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26607:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at workLoop (node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (node_modules/react-scripts/node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

  console.error
    Error adding transaction: { response: { data: { detail: 'Ошибка при добавлении' } } }

      133 |       toast.success('Транзакция успешно добавлена');
      134 |     } catch (error) {
    > 135 |       console.error('Error adding transaction:', error);
          |               ^
      136 |       toast.error('Ошибка при добавлении транзакции: ' + (error.response?.data?.detail || 'Неизвестная ошибка'));
      137 |     }
      138 |   };

      at handleSubmit (src/components/Dashboard.js:135:15)

  console.error
    Fetch error: Error: Network Error
        at Object.<anonymous> (/home/end0/CODE/moneyapp/frontend/src/components/Dashboard.test.js:159:45)
        at Promise.then.completed (/home/end0/CODE/moneyapp/frontend/node_modules/react-scripts/node_modules/jest-circus/build/utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/home/end0/CODE/moneyapp/frontend/node_modules/react-scripts/node_modules/jest-circus/build/utils.js:316:10)
        at _callCircusTest (/home/end0/CODE/moneyapp/frontend/node_modules/react-scripts/node_modules/jest-circus/build/run.js:218:40)
        at _runTest (/home/end0/CODE/moneyapp/frontend/node_modules/react-scripts/node_modules/jest-circus/build/run.js:155:3)
        at _runTestsForDescribeBlock (/home/end0/CODE/moneyapp/frontend/node_modules/react-scripts/node_modules/jest-circus/build/run.js:66:9)
        at _runTestsForDescribeBlock (/home/end0/CODE/moneyapp/frontend/node_modules/react-scripts/node_modules/jest-circus/build/run.js:60:9)
        at run (/home/end0/CODE/moneyapp/frontend/node_modules/react-scripts/node_modules/jest-circus/build/run.js:25:3)
        at runAndTransformResultsToJestFormat (/home/end0/CODE/moneyapp/frontend/node_modules/react-scripts/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
        at jestAdapter (/home/end0/CODE/moneyapp/frontend/node_modules/react-scripts/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
        at runTestInternal (/home/end0/CODE/moneyapp/frontend/node_modules/react-scripts/node_modules/jest-runner/build/runTest.js:389:16)
        at runTest (/home/end0/CODE/moneyapp/frontend/node_modules/react-scripts/node_modules/jest-runner/build/runTest.js:475:34)
        at TestRunner.runTests (/home/end0/CODE/moneyapp/frontend/node_modules/react-scripts/node_modules/jest-runner/build/index.js:101:12)
        at TestScheduler.scheduleTests (/home/end0/CODE/moneyapp/frontend/node_modules/react-scripts/node_modules/@jest/core/build/TestScheduler.js:333:13)
        at runJest (/home/end0/CODE/moneyapp/frontend/node_modules/react-scripts/node_modules/@jest/core/build/runJest.js:404:19)

      57 |       setData({ ...response.data, recent_transactions: sortedTransactions });
      58 |     } catch (error) {
    > 59 |       console.error('Fetch error:', error);
         |               ^
      60 |       if (error.response && error.response.status === 401) {
      61 |         navigate('/login');
      62 |         return;

      at src/components/Dashboard.js:59:15



[1B[J